/* Piece always fills its parent and keeps aspect ratio */
.piece {
  width: 90%;
  height: 90%;
  object-fit: contain;
  user-select: none;
  -webkit-user-select: none;
  z-index: 2000; /* static piece above highlight */
  position: relative; /* ensure z-index stacking context applies */
}

.piece.animating {
  z-index: 3000; /* animating piece above static piece and highlights */
  will-change: transform;
  transition: transform 1s ease-out;
  animation-duration: 1s;
}

/* When a piece is animating, hide the original static piece immediately so
   the cloned element can be shown moving without a duplicate. The clone
   will have the class .animating-clone and should be displayed. */
.piece.animating {
  opacity: 0; /* hide original piece immediately when animating */
}

.animating-clone {
  display: block !important;
  opacity: 1 !important;
  position: absolute !important;
  left: 0 !important;
  top: 0 !important;
  width: 100% !important;
  height: 100% !important;
  object-fit: contain !important;
  pointer-events: none !important;
  z-index: 4000 !important;
}

.piece:active {
  cursor: grabbing !important;
}

.piece.dragging {
  opacity: 0;
}

.custom-drag-image {
  opacity: 1;
  z-index: 100;
  display: block;
  transition: none;
  position: absolute;
  pointer-events: none;
}
